<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Firmador PDF con QR</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { background-color: #f8f9fa; }
.hero { min-height: 90vh; display: flex; align-items: center; justify-content: center; }
.upload-box { background: white; border-radius: 15px; padding: 40px; text-align: center; box-shadow: 0px 4px 10px rgba(0,0,0,0.1); }
.upload-box h2 { font-weight: bold; }
.btn-upload { font-size: 18px; padding: 12px 30px; border-radius: 10px; }
.icon { font-size: 80px; color: #6f42c1; }
</style>
</head>
<body>

<nav class="navbar navbar-light bg-light mb-3">
  <div class="container-fluid">
    <span class="navbar-text">
      Bienvenido, {{ username }}
    </span>
    <a href="/logout" class="btn btn-danger">Cerrar sesi√≥n</a>
  </div>
</nav>

<div class="container hero">
<div class="upload-box col-md-6">
<div class="icon">‚úçÔ∏è</div>
<h2 class="mt-3">Rellena y firma tu PDF</h2>
<p class="text-muted">
Paso 1: Selecciona tu PDF.<br>
Paso 2: Selecciona tu certificado P12 o PFX.<br>
Paso 3: Ingresa la contrase√±a del certificado.<br>
Paso 4: Elige la zona horaria.<br>
Paso 5: Haz clic en ‚ÄúGenerar documento firmado‚Äù.
</p>
<form id="firmarForm" method="POST" action="/firmar" enctype="multipart/form-data">
<div class="mb-3">
<label class="form-label">Selecciona PDF</label>
<input type="file" class="form-control" name="pdf" accept=".pdf" required>
</div>
<div class="mb-3">
<label class="form-label">Selecciona Certificado (.p12/.pfx)</label>
<input type="file" class="form-control" name="p12" accept=".p12,.pfx" required>
</div>
<div class="mb-3">
<label class="form-label">Contrase√±a del certificado</label>
<input type="password" class="form-control" name="p12_password" placeholder="Contrase√±a" required>
</div>
<div class="mb-3">
<label class="form-label">Zona horaria</label>
<select class="form-select" name="user_timezone" required>

  <!-- Am√©rica -->
  <option value="America/Guayaquil" selected>Ecuador (Guayaquil) UTC-05:00</option>
  <option value="America/Bogota">Colombia (Bogot√°) UTC-05:00</option>
  <option value="America/Lima">Per√∫ (Lima) UTC-05:00</option>
  <option value="America/New_York">EE. UU. (Nueva York) UTC-04:00</option>
  <option value="America/Chicago">EE. UU. (Chicago) UTC-05:00</option>
  <option value="America/Denver">EE. UU. (Denver) UTC-06:00</option>
  <option value="America/Los_Angeles">EE. UU. (Los √Ångeles) UTC-07:00</option>
  <option value="America/Sao_Paulo">Brasil (S√£o Paulo) UTC-03:00</option>
  <option value="America/Mexico_City">M√©xico (Ciudad de M√©xico) UTC-06:00</option>

  <!-- Europa -->
  <option value="Europe/London">Reino Unido (Londres) UTC+01:00</option>
  <option value="Europe/Paris">Francia (Par√≠s) UTC+02:00</option>
  <option value="Europe/Madrid">Espa√±a (Madrid) UTC+02:00</option>
  <option value="Europe/Berlin">Alemania (Berl√≠n) UTC+02:00</option>
  <option value="Europe/Moscow">Rusia (Mosc√∫) UTC+03:00</option>

  <!-- Asia -->
  <option value="Asia/Tokyo">Jap√≥n (Tokio) UTC+09:00</option>
  <option value="Asia/Shanghai">China (Shanghai) UTC+08:00</option>
  <option value="Asia/Singapore">Singapur UTC+08:00</option>
  <option value="Asia/Dubai">Emiratos √Årabes Unidos (Dubai) UTC+04:00</option>
  <option value="Asia/Kolkata">India (Kolkata) UTC+05:30</option>

  <!-- Ocean√≠a -->
  <option value="Australia/Sydney">Australia (Sydney) UTC+10:00</option>
  <option value="Australia/Melbourne">Australia (Melbourne) UTC+10:00</option>
  <option value="Pacific/Auckland">Nueva Zelanda (Auckland) UTC+12:00</option>

  <!-- UTC -->
  <option value="UTC">UTC+00:00</option>
</select>
</div>
<button type="submit" class="btn btn-primary btn-upload">üìÑ Generar documento firmado</button>
</form>
{% if error %}
<div class="alert alert-danger mt-3">{{ error }}</div>
{% endif %}
</div>
</div>

</body>
</html>
